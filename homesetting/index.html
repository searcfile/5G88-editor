<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>5G88 ‚Ä¢ Admin Tab Control</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- ===== STYLE ===== -->
<style>
    body{
        margin:0; padding:0;
        background:#000;
        font-family:system-ui,Arial;
        color:#f0f0f0;
    }

    .container{
        max-width:900px;
        margin:0 auto;
        padding:25px;
    }

    h1{
        text-align:left;
        color:gold;
        font-size:28px;
        font-weight:700;
        margin-bottom:10px;
    }

    .section{
        margin-top:25px;
        background:#0f0f0f;
        border:1px solid #333;
        border-radius:12px;
        padding:18px 20px;
        box-shadow:0 0 16px rgba(255,215,0,0.08);
    }

    .section-title{
        font-size:18px;
        margin-bottom:10px;
        color:#ffe680;
        font-weight:bold;
    }

    table{
        width:100%;
        border-collapse:collapse;
        margin-top:10px;
    }

    th,td{
        padding:10px 6px;
        font-size:15px;
        border-bottom:1px solid #222;
    }
    th{
        text-align:left;
        color:#bfbfbf;
        font-weight:600;
    }

    .switch-wrap{
        display:flex;
        align-items:center;
        gap:8px;
    }

    /* fancy switch */
    .switch {
        position: relative;
        display: inline-block;
        width: 46px;
        height: 22px;
    }
    .switch input{
        opacity:0;
        width:0;
        height:0;
    }
    .slider{
        position:absolute;
        cursor:pointer;
        top:0; left:0; right:0; bottom:0;
        background:#555;
        transition:.3s;
        border-radius:34px;
    }
    .slider:before{
        position:absolute;
        content:"";
        height:18px;
        width:18px;
        left:3px;
        bottom:2px;
        background:white;
        border-radius:50%;
        transition:.3s;
    }

    input:checked + .slider{
        background:gold;
    }
    input:checked + .slider:before{
        transform:translateX(24px);
    }

    .status-pill{
        display:inline-block;
        padding:3px 10px;
        border-radius:50px;
        font-size:12px;
        font-weight:600;
    }
    .hide-pill{
        background:#ff3d3d33;
        color:#ff6969;
        border:1px solid #ff4d4d;
    }
    .show-pill{
        background:#3dff3d22;
        border:1px solid #4dff4d;
        color:#8bff8b;
    }

    .footer-msg{
        margin-top:15px;
        font-size:13px;
        color:#aaa;
        text-align:center;
    }

</style>
</head>
<body>

<div class="container">

    <h1>‚öôÔ∏è Control Panel ‚Äî 5G88 UI Settings</h1>

    <div class="footer-msg">Hide / Show elements untuk SEMUA user (global realtime)</div>

    <!-- ===== TAB CONTROL ===== -->
    <div class="section">
        <div class="section-title">üü° TabBar Control</div>
        <table>
            <thead>
                <tr>
                    <th>Nama Tab</th>
                    <th>Hide?</th>
                    <th>Status</th>
                </tr>
            </thead>
            <tbody id="tabBarBody"></tbody>
        </table>
    </div>

    <!-- ===== SIDEBAR CONTROL ===== -->
    <div class="section">
        <div class="section-title">üîµ Sidebar Menu Control</div>
        <table>
            <thead>
                <tr>
                    <th>Sidebar Item</th>
                    <th>Hide?</th>
                    <th>Status</th>
                </tr>
            </thead>
            <tbody id="sideBarBody"></tbody>
        </table>
    </div>

    <!-- ===== HEADER BUTTON CONTROL ===== -->
    <div class="section">
        <div class="section-title">üü£ Header Buttons Control</div>
        <table>
            <thead>
            <tr>
                <th>Button</th>
                <th>Hide?</th>
                <th>Status</th>
            </tr>
            </thead>
            <tbody id="headerBody"></tbody>
        </table>
    </div>

</div>


<!-- ====== FIREBASE ====== -->
<script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-database-compat.js"></script>

<script>
// ==== Firebase blurphp ====
const blurphpConfig = {
  apiKey: "AIzaSyCKmrlS4qrZCrMNRIfIRCWCbNgZT1uQ3ZI",
  authDomain: "blurphp.firebaseapp.com",
  databaseURL: "https://blurphp-default-rtdb.asia-southeast1.firebasedatabase.app",
  projectId: "blurphp",
  storageBucket: "blurphp.appspot.com",
  messagingSenderId: "593904200464",
  appId: "1:593904200464:web:cea7bc1360532c20d99395"
};

const blurphpApp = firebase.initializeApp(blurphpConfig, "blurphp-settings");
const db = blurphpApp.database();


// ===== LIST TABBAR =====
const TABS = [
  "LIVE CHAT","MEGA888","PUSSY888","918KISS",
  "SCR888H5","LOGO GAME","TIPS GAME","FIND GAME",
  "LINK DOWNLOAD","MAYBANK","CIMB BANK","BANK ISLAM",
  "RHB BANK","ITEM COLLECTION"
];

// ===== LIST SIDEBAR MENU =====
const SIDEBAR = [
  "LIVE CHAT","MEGA888","PUSSY888","918KISS",
  "SCR888H5","LOGO GAME","TIPS GAME","FIND GAME",
  "LINK DOWNLOAD","MAYBANK","CIMB BANK","BANK ISLAM",
  "RHB BANK","ITEM COLLECTION"
];

// ===== LIST HEADER BUTTONS =====
const HEADER_BTNS = [
  "LIVE CHAT",
  "LINK DOWNLOAD",
  "GAMELOG",
  "BANK RECEIPT",
  "LIST TYPE",
  "ITEM"
];


// Render function (general)
function buildTable(list, tbody, dbNode){
  tbody.innerHTML = "";
  db.ref(dbNode).on("value", snap=>{
    const hidden = snap.val() || {};

    tbody.innerHTML = "";
    list.forEach(label=>{
      const tr = document.createElement("tr");

      const td1 = document.createElement("td");
      td1.textContent = label;

      const td2 = document.createElement("td");
      const wrap = document.createElement("div");
      wrap.className = "switch-wrap";

      const sw = document.createElement("label");
      sw.className = "switch";

      const chk = document.createElement("input");
      chk.type = "checkbox";
      chk.checked = !!hidden[label];

      const slider = document.createElement("span");
      slider.className = "slider";

      sw.appendChild(chk);
      sw.appendChild(slider);
      wrap.appendChild(sw);
      td2.appendChild(wrap);

      const td3 = document.createElement("td");
      const pill = document.createElement("span");
      pill.className = chk.checked ? "status-pill hide-pill" : "status-pill show-pill";
      pill.textContent = chk.checked ? "Hidden" : "Shown";
      td3.appendChild(pill);

      chk.addEventListener("change", async ()=>{
        const hide = chk.checked;

        if (hide) {
          await db.ref(dbNode + "/" + label).set(true);
        } else {
          await db.ref(dbNode + "/" + label).remove();
        }

        pill.className = hide ? "status-pill hide-pill" : "status-pill show-pill";
        pill.textContent = hide ? "Hidden" : "Shown";
      });

      tr.appendChild(td1);
      tr.appendChild(td2);
      tr.appendChild(td3);
      tbody.appendChild(tr);
    });
  });
}

// Build all 3 tables
buildTable(TABS, document.getElementById("tabBarBody"), "settings/tabVisibility");
buildTable(SIDEBAR, document.getElementById("sideBarBody"), "settings/sidebarVisibility");
buildTable(HEADER_BTNS, document.getElementById("headerBody"), "settings/headerVisibility");
</script>

</body>
</html>

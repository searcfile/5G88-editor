<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Tips Generator Gold</title>
  <style>
    body {
      background: #000;
      font-family: Arial, sans-serif;
      color: gold;
      padding: 20px;
    }

    #platforms {
      display: flex;
      flex-wrap: wrap;
      gap: 20px;
      justify-content: center;
    }

    .platform-box {
      background: #222;
      border: 2px solid gold;
      border-radius: 10px;
      padding: 15px;
      width: 320px;
      display: flex;
      flex-direction: column;
      align-items: center;
    }

    .platform-header {
      background: goldenrod;
      color: white;
      padding: 10px;
      border-radius: 6px;
      text-align: center;
      font-weight: bold;
      margin-bottom: 10px;
      width: 100%;
    }

    .search-box {
      display: flex;
      justify-content: center;
      width: 100%;
      margin-bottom: 10px;
    }

    .search-box input {
      padding: 6px;
      width: 80%;
      border: 1px solid gold;
      border-radius: 4px;
      background: black;
      color: gold;
      text-align: center;
    }

    .tip-area {
      display: flex;
      justify-content: space-between;
      width: 100%;
    }

    .tip-list {
      background: #fffa90;
      color: #000;
      padding: 10px;
      border-radius: 8px;
      font-weight: bold;
      font-size: 14px;
      width: 200px;
      height: 130px;
      overflow-y: auto;
      white-space: pre-line;
    }

    .controls {
      display: flex;
      flex-direction: column;
      gap: 8px;
      align-items: center;
    }

    .auto-control {
      display: flex;
      align-items: center;
      gap: 6px;
    }

    .controls input[type="number"] {
      width: 40px;
      text-align: center;
      background: black;
      color: gold;
      border: 1px solid gold;
      border-radius: 4px;
    }

    .btn {
      padding: 6px 12px;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      font-weight: bold;
      font-size: 14px;
      width: 100%;
    }

    .btn-refresh {
      background: #444;
      color: white;
    }

    .btn-copy {
      background: #28a745;
      color: white;
    }

    .timestamp {
      font-size: 12px;
      margin-top: 12px;
      font-style: italic;
      text-align: center;
      width: 100%;
    }

    @media (max-width: 600px) {
      .platform-box {
        width: 100%;
      }
      .tip-area {
        flex-direction: column;
        align-items: center;
      }
    }
  </style>
</head>
<body>

<div id="platforms"></div>

<script>
const platformData = {
  MEGA888: ["FORTUNE TIGER", "WONG CHOY", "CELEBRATION OF", "FORTUNE PANDA", "BIG WIN CAT"],
  "918KISS": ["DOLPHIN REEF", "BURNING PEARL", "GREAT BLUE", "QUEEN OF THE NILE", "ALADDIN WISHES"],
  PUSSY888: ["THAI PARADISE", "LUCKY KOI", "GOD OF WEALTH", "ROBIN HOOD", "SAFARI HEAT"],
  XE88: ["BONUS BEARS", "SILVER BULLET", "5 DRAGONS", "WITCHES CHARM", "LUCKY LION"]
};

const timers = {};

function shuffle(array) {
  return array.sort(() => Math.random() - 0.5);
}

function renderTips(platform, tips) {
  const tipList = document.getElementById(`tips-${platform}`);
  const title = `${platform}\n========\n`;
  tipList.textContent = title + tips.join("\n");
  const now = new Date();
  const timeStr = now.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });
  const dateStr = now.toLocaleDateString('en-GB');
  document.getElementById(`time-${platform}`).textContent = `Last Updated on ${timeStr} ${dateStr}`;
}

function refreshList(platform) {
  const count = parseInt(document.getElementById(`count-${platform}`).value) || 3;
  const shuffled = shuffle([...platformData[platform]]);
  const selected = shuffled.slice(0, count);
  renderTips(platform, selected);
}

function copyTips(platform) {
  const text = document.getElementById(`tips-${platform}`).textContent;
  navigator.clipboard.writeText(text).then(() => {
    alert(`${platform} tips copied!`);
  });
}

function toggleAuto(platform, checkbox) {
  if (checkbox.checked) {
    const duration = parseInt(document.getElementById(`duration-${platform}`).value) || 1;
    timers[platform] = setInterval(() => refreshList(platform), duration * 60000);
  } else {
    clearInterval(timers[platform]);
  }
}

function searchGame(platform, value) {
  const allGames = platformData[platform];
  const filtered = allGames.filter(g => g.toLowerCase().includes(value.toLowerCase()));
  renderTips(platform, filtered);
}

function createPlatform(name, tips) {
  const container = document.createElement('div');
  container.className = 'platform-box';

  container.innerHTML = `
    <div class="platform-header">${name}</div>
    <div class="search-box">
      <input type="text" placeholder="Search..." oninput="searchGame('${name}', this.value)">
    </div>
    <div class="tip-area">
      <div class="tip-list" id="tips-${name}"></div>
      <div class="controls">
        <input type="number" id="count-${name}" value="3" min="1" max="${tips.length}" title="How many games?">
        <div class="auto-control">
          <label>ðŸ•’ <input type="checkbox" onchange="toggleAuto('${name}', this)"></label>
          <input type="number" value="1" min="1" id="duration-${name}" title="Minutes">
        </div>
        <button class="btn btn-refresh" onclick="refreshList('${name}')">ðŸ”„</button>
        <button class="btn btn-copy" onclick="copyTips('${name}')">ðŸ“‹</button>
      </div>
    </div>
    <div class="timestamp" id="time-${name}">Last Updated on --</div>
  `;

  document.getElementById('platforms').appendChild(container);
  renderTips(name, tips.slice(0, 3)); // default 3 tips
}

// Init
for (const [platform, tips] of Object.entries(platformData)) {
  createPlatform(platform, tips);
}
</script>

</body>
</html>

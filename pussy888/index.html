<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>PUSSY888 Generator</title>
  <link rel="stylesheet" href="assest/pussy888.css">
  <style>html{visibility:hidden}</style>
  <script>
  (function(){
  // ====== KONFIG ======
  const LOGIN_URL = "https://5g88-login.vercel.app/";
  const ALLOWED_PARENTS = new Set([
    "https://searcfile.github.io",
    "https://5g88-main.vercel.app",
  ]);
  const TIMEOUT_MS = 3500; // lebih longgar

  // redirect helper (samakan param dengan parent: ?redirect=)
  function goLogin(){
    const rt = encodeURIComponent(location.href);
    location.replace(`${LOGIN_URL}?redirect=${rt}`);
  }

  // Jika dibuka langsung (bukan di iframe) ‚Üí paksa login page
  if (window.top === window.self) { goLogin(); return; }

  let authed = false;
  let timeoutId = null;

  // Minta parent kirim data login (handshake)
  function requestLoginFromParent(){
    try {
      window.parent.postMessage({ type: "request-login" }, "*");
      window.parent.postMessage({ type: "child-ready" }, "*");
    } catch(_) {}
  }

  function onMsg(ev){
    // Validasi origin dulu
    if (!ALLOWED_PARENTS.has(ev.origin)) return;

    const d = ev.data || {};
    if (d.type === "user-login" && d.user && typeof d.user.email === "string") {
      authed = true;
      try { sessionStorage.setItem("child_login_user", d.user.email.toLowerCase()); } catch(_){}
      document.documentElement.style.visibility = "visible";
      window.removeEventListener("message", onMsg);
      if (timeoutId) clearTimeout(timeoutId);
    }
  }

  window.addEventListener("message", onMsg, false);
  requestLoginFromParent();

  // fallback: kalau parent tidak kirim-kirim, redirect ke login
  timeoutId = setTimeout(() => {
    if (!authed) {
      window.removeEventListener("message", onMsg);
      goLogin();
    }
  }, TIMEOUT_MS);
})();
</script>
  <link href="https://fonts.googleapis.com/css2?family=Source+Sans+3:wght@400;700&display=swap" rel="stylesheet">
</head>
<body>
<div class="header">PUSSY888 GENERATE</div>
<div style="display: flex; align-items: center; gap: 10px; margin-bottom: 10px;margin-left:10px;">
  <button onclick="resetLog()" class="reset-button">Reset Log</button>
  <span style="color: rgba(255, 255, 255, 0.65); font-size: 16px;">Key (CTRL + C) Copy Image</span>
</div>
<div style="display: flex; align-items: center; gap: 10px; flex-wrap: wrap; margin-bottom: 10px;margin-left:10px;">
  <label for="gameSelect" style="color: white;padding-left:5px;">Game:</label>
  <select id="gameSelect" class="select2" style="height: 38px; font-size: 16px; color: white;">
    <option value="BananaMonkey">BananaMonkey</option><option value="BeachLife">BeachLife</option><option value="Indian">Indian</option><option value="FORTUNE">FORTUNE</option><option value="LandofGold">LandofGold</option><option value="BaBaoYiHou">BaBaoYiHou</option><option value="ThaiTemple">ThaiTemple</option><option value="Hologram Wilds">Hologram Wilds</option><option value="HalloweenParty">HalloweenParty</option><option value="Neptune Treasure">Neptune Treasure</option><option value="BuffaloBlitz">BuffaloBlitz</option><option value="Desert Treasure">Desert Treasure</option><option value="GaelicLuck">GaelicLuck</option><option value="Tigerclaw">Tigerclaw</option><option value="Berry">Berry</option><option value="Aztec">Aztec</option><option value="Geisha">Geisha</option><option value="GoldenSlut">GoldenSlut</option><option value="Dolphin">Dolphin</option><option value="FortunePanda">FortunePanda</option><option value="StoneAge">StoneAge</option><option value="FORTUNE">FORTUNE</option><option value="Sherlock">Sherlock</option><option value="T-REX">T-REX</option><option value="HighwayPro">HighwayPro</option><option value="WarriorsGold">WarriorsGold</option><option value="White Lion">White Lion</option><option value="GoldenTree">GoldenTree</option><option value="MoneyFever">MoneyFever</option><option value="ICELAND">ICELAND</option><option value="Boxing">Boxing</option><option value="GoldenSlut">GoldenSlut</option><option value="EmperorGate">EmperorGate</option><option value="DolphinReef">DolphinReef</option><option value="Twister">Twister</option><option value="PayDirt">PayDirt</option><option value="WildFox">WildFox</option><option value="PirateShip">PirateShip</option><option value="JinQianWa">JinQianWa</option><option value="Cleopatra">Cleopatra</option><option value="Garden">Garden</option><option value="FiveDragons">FiveDragons</option><option value="Alice">Alice</option><option value="GreatStars">GreatStars</option><option value="SAFARI Heat">SAFARI Heat</option><option value="PatherMoon">PatherMoon</option><option value="Rally">Rally</option><option value="BigShot">BigShot</option><option value="Thai">Thai</option><option value="SeaCaptain">SeaCaptain</option><option value="TreasureIsland">TreasureIsland</option><option value="Magician">Magician</option><option value="SeaWorld">SeaWorld</option><option value="Samurai">Samurai</option><option value="circus">circus</option><option value="TopGun">TopGun</option><option value="BonusBears">BonusBears</option><option value="JAPAN">JAPAN</option><option value="Boyking">Boyking</option><option value="ShiningStars">ShiningStars</option><option value="IrishLuck">IrishLuck</option><option value="Wealth">Wealth</option><option value="CoyoteCash">CoyoteCash</option><option value="Prosperity">Prosperity</option><option value="FairyGarden">FairyGarden</option><option value="GoldenLotus">GoldenLotus</option><option value="Tally Ho">Tally Ho</option><option value="Girls">Girls</option><option value="Dragon Gold">Dragon Gold</option><option value="CatQueen">CatQueen</option><option value="Roaring">Roaring</option><option value="Pyramid">Pyramid</option><option value="Pharaoh Secrets">Pharaoh Secrets</option><option value="FortuneLions">FortuneLions</option><option value="Panda">Panda</option><option value="GreatBlue">GreatBlue</option><option value="Epicape">Epicape</option><option value="Archer">Archer</option><option value="Easter">Easter</option><option value="Queen of Wand">Queen of Wand</option><option value="Arctic">Arctic</option><option value="ÁéÑÂúÉËÅîÊ¨¢">ÁéÑÂúÉËÅîÊ¨¢</option><option value="ShuiHu">ShuiHu</option><option value="Laura">Laura</option><option value="HighWay">HighWay</option><option value="Silver">Silver</option><option value="ZhaoCaiJinBao">ZhaoCaiJinBao</option><option value="FootBall">FootBall</option><option value="Halloween">Halloween</option><option value="GodofWealth">GodofWealth</option><option value="GoldenTour">GoldenTour</option>
  </select>
  <label for="betSelect" style="color: white;">Bet:</label><select id="betSelect" style="height: 38px; font-size: 16px; color: white;"></select>
  <label for="pecahanSelect" style="color: white;">Pecahan:</label>
  <select id="pecahanSelect" style="height: 38px; font-size: 16px; color: white;"></select>
<button onclick="setNow()" style="height: 38px; padding: 0 12px; font-size: 16px;">Click Now</button>
<label for="manualTime" style="color: white;">Set Time:</label>
<input type="text" id="manualTime" placeholder="Add Date & Time" style="width: 200px; font-size: 21px; padding: 0px 5px; height: 38px; color: white;" />

<!-- ‚úÖ Free Game baru -->
<label for="freeGameInput" style="color:white; margin-left:10px;">Set Rows:</label>
<input type="number" id="freeGameInput" min="0" max="10" value="0"
       style="width:70px; height:32px; font-size:16px; padding:0 6px; color:white;">
<button id="setFreeGameBtn" style="height: 38px;">Set Free Game</button>
<!-- üî• tombol AUTO -->
<button id="autoFreeGameBtn"
        style="height:38px; padding:0 10px; font-size:14px; background:#555; color:#fff; border-color:#555;">
  AUTO OFF
</button>
</div>

  <div style="display: flex; align-items: center; gap: 10px; flex-wrap: wrap; margin-bottom: 15px;margin-left:10px;">
  <div style="display: flex; align-items: center;">
  <label for="manualScore" style="color: white; height: 38px; display: flex; align-items: center;padding-left:5px;">Add Score (optional):</label>
  <input type="number" id="manualScore" value="0" style="width: 100px; height: 20px; font-size: 16px; padding: 4px 6px; color: white;"></div>

  <div style="display: flex; align-items: center;">
  <label for="manualJackpot" style="color: white; height: 38px; display: flex; align-items: center;">Jackpot Amount:</label>
  <input type="number" id="manualJackpot" value="0" style="width: 120px; height: 20px; font-size: 16px; padding: 4px 6px; color: white;"></div>

  <button onclick="addJackpot()" style="height: 38px;">Set Jackpot</button>
  <div style="display: flex; align-items: center;">
  <label for="manualScoreInput" style="color: white; height: 38px; display: flex; align-items: center;">Support Amount:</label>
  <input type="number" id="manualScoreInput" value="0" style="width: 100px; height: 20px; font-size: 16px; padding: 4px 6px; color: white;"></div>

  <button onclick="addManualSetScore()" style="height: 38px;">Support Back</button>
  <!-- ‚úÖ Set Win baru -->
  <div style="display:flex; align-items:center;">
  <label for="manualWinInput" style="color:white; height:38px; display:flex; align-items:center;">Win Amount:</label>
  <input type="number" id="manualWinInput" value="0"
         style="width:120px; height:20px; font-size:16px; padding:4px 6px; color:white;">
  </div>
  <button onclick="setRandomWin()" style="height:38px;">Set Winner</button></div>
  <div style="display: flex; align-items: center; gap: 10px; flex-wrap: wrap; margin-bottom: 15px;margin-left:10px;">
  <button onclick="generateLog()" style="height: 38px;">Change</button>
  <button onclick="deleteCents()" style="height: 38px;">Delete Cents</button>
  <button onclick="copyGameLogImage()" style="height: 38px;">COPY IMAGE</button></div>
  <table id="gameLog">
  <thead>
    <tr>
      <th>GameName</th>
      <th>TableID</th>
      <th>Bet</th>
      <th>Win</th>
      <th>BeginMoney</th>
      <th>EndMoney</th>
      <th>DateTime</th>
    </tr>
  </thead>
  <tbody>
  </tbody>
</table>
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
<script src="assestman/pussy888.js"></script>
</body>
</html>
